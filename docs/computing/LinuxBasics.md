# Linuxの基礎

## コマンドラインによる操作

Windowsではマウスを使って操作することが多い。アプリケーションを立ち上げるときも、アイコンをダブルクリックしたりメニューから目的のアプリケーションを探してそれをクリックすることで、起動することができる。PCに保存したファイルを開く場合も、エクスプローラ等のグラフィカルなソフトウェアを使ってフォルダーを階層的に辿って目的のファイルに辿り着くことができる。このようにユーザーにグラフィカルな方法による操作方法をグラフィカル・ユーザー・インタフェース（GUI）による操作と呼ぶ。

これに対して、Linuxではターミナルと呼ばれる画面に操作命令（コマンド）をテキストで入力することでPCを操作する、コマンドライン・インタフェース（CLI）が用いられることが多い。Linuxのコマンドのほとんどは、独立したプログラムであり、ターミナルはコマンド名が入力されると同じ名前をもつプログラムの実行ファイルを探してきて、それを実行する。

## ファイルとディレクトリ

### 相対パスと絶対パス

Windowsのフォルダのことを、Linuxでは通常ディレクトリと呼ぶ。すなわち、ディレクトリとは複数のファイルを分類してまとめて保管するためのものである。ディレクトリはファイルだけでなく、別のサブ・ディレクトリを含むこともできる。ディレクトリは階層をなしていて、全てのディレクトリの大本のディレクトリのことをルート・ディレクトリと呼び、それを / で表す。

ディレクトリ階層は木構造になっているため、任意のファイルやディレクトリはルート・ディレクトリからディレクトリを順々に辿っていくことができる。この経路はファイルやディレクトリが保存されている場所をしているするのに用いられる。例えば、/usr/bin/lsは、ルート・ディレクトリの下にあるusrというディレクトリの下にあるbinディレクトリの下にあるlsという名前のファイルを指す。このようにディレクトリを"/"で区切ってファイルやディレクトリの場所を指定することができるが、このように書いた場所のことをパス（path）と呼ぶ。
パスをルート・ディレクトリから書いたものを絶対パスと呼び、これによって一意に場所を指定することができる。

ターミナルで作業する場合には、作業ディレクトリという概念があり、ユーザーはそのディレクトリを基点として他のディレクトリを参照することができる。
例えば、ユーザーが/nfs/home/tkohno/というディレクトリの下にあるファイルを頻繁に読み書きする場合、/nfs/home/tkohno/を作業ディレクトリとすることで、このディレクトリの下にあるファイルには絶対パスではなく、ファイル名だけで指定することができる。/nfs/home/tkohno/a.txtというファイルには、a.txtと書くことでアクセス可能である。これを相対パスという。作業ディレクトリが/nfs/home/tkohno/のときに、B/b.txtと書いたらこれは/nfs/home/tkohno/B/b.txtというファイルを指すことになる。

Linuxにおいてディレクトリやファイルの場所を記述する方法が分かったところで、ディレクトリの中身を表示したり作業ディレクトリを設定するコマンドを使ってみよう。

| コマンド名 | 内容 | 関連する英語 |
|-----------|------|-------|
| ls | ディレクトリやファイルをリストする | list |
| cd | 作業ディレクトリの変更 | change directory |
| pwd | 現在の作業ディレクトリを表示 | pring working directory |

これらのコマンドは非常に基本的でターミナルを使って作業する上で必須のものである。使い方は以下の通りである。

```bash
pwd
ls
ls /usr
cd /usr
pwd
ls
ls -l
cd bin
pwd
ls -l
cd ..
pwd
cd
pwd
ls -l
```

lsコマンドの使用例から分かるように、コマンド名の後に-lや/usrのように追加の情報を渡すことができる。これらはコマンドライン引数と呼ばれるものである。
lsコマンドはls /usrのように内容を表示させたいディレクトリを引数として指定して用いる。何も引数を渡さなければ、現在の作業ディレクトリの内容を表示する。
引数の中で、-lのように-から始まる文字列は一般にオプションと呼ばれていて、これはコマンドの振る舞いを少し変更するために用いる。lsに-lオプションを付けた場合と付けない場合で結果が変わるのが分かるだろう。他にもls -l -rなど複数のオプションを指定することもできる。複数のオプションがある場合、これをls -rlと省略することも可能である。多くのコマンドで-hあるいは--helpオプションはヘルプに対応していて、そのコマンドの使い方を表示してくれるようになっている。

cdは指定したディレクトリを作業ディレクトリとするためのコマンドである。何も引数を指定しなければ、ユーザーのホームディレクトリが作業ディレクトリとなる。
ホームディレクトリというのは、各ユーザーに割り当てられた自由に使える領域である。通常、他のユーザーはこの領域に書き込むことはできない。

### 特別なディレクトリ

| パス | 呼び方 | 役割 |
|------|------|-------|
| / | ルート・ディレクトリ | 全てのディレクトリの大本 |
| ~ | ホーム・ディレクトリ | ユーザーのホームディレクトリ |
| . | カレント・ディレクトリ | 現在の作業ディレクトリ |
| .. | | カレント・ディレクトリの直接の親ディレクトリ |

## よく使う基本的なコマンド

| コマンド名 | 内容 | 関連する英語 |
|-----------|------|-------|
| mkdir | 新しいディレクトリを作成する | make directory |
| cp | ファイルまたはディレクトリをコピーする | copy |
| mv | ファイルまたはディレクトリを移動する、名前を変える | move |
| rm | ファイルまたはディレクトリを削除する | remove |

### テキスト・ファイルの編集

Linuxでテキスト・ファイルを編集するためのプログラムとして
* emacs
* vim
が挙げられる。


### テキスト・ファイルの閲覧
テキスト・ファイルを読むだけなら、もっと手軽に使えるプログラムがある。catコマンドはファイルの中身を全て画面に表示させるもので、小さなファイルならこれを使うことができる。ファイルが数100行を超えると、これだと少し扱いづらい。lessコマンドは
```bash
less a.txt
```
のように閲覧したいファイルを引数として渡すとその中身をターミナル上に表示してくれる。ただし、この状態でlessコマンドはまだ実行中で終了していない。
コマンド実行後に次のコマンドの入力待ちの状態になっていないことが分かるだろう。通常、コマンドの入力を待っている状態ではターミナルの新しい行に'> 'や'$ 'のような短い文字列（これはプロンプトと呼ばれる）が表示されるはずである。
長いファイルの一部だけを表示させた状態で、lessコマンドはユーザーからキーボード入力を受け付けファイルの別の場所を表示させるよう指示を与えることができる。
lessコマンドのショートカット・キー

| ショートカット・キー | 内容 | 関連する英語 |
|--------------------|------|-------------|
| n | 1行進む | next |
| p | 1行戻る | previous |
| g | 先頭行に戻る | goto start ? |
| G | 最終行に移動 | |
| / | 検索 (続けて検索したい文字列を入力) | |
| q | lessコマンドを終了 | quit |

### 便利なコマンド

## コマンドの書き方

